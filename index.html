<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>FB redirect</title>
</head>
<body>
	<!-- <script>
		var fbAppUrl = "fb://watch/video?id=695466975662407";
		var playStoreUrl = "https://play.google.com/store/apps/details?id=com.facebook.katana";
		var appStoreUrl = "https://apps.apple.com/us/app/facebook/id284882215";
	
		function redirectToFacebook() {
			window.location = fbAppUrl;
			setTimeout(function() {
				if (!document.webkitHidden) {
					redirectToAppStore();
				}
			}, 5000);
		}
	
		function redirectToAppStore() {
			window.location = appStoreUrl;
		}
	
		function redirectToPlayStore() {
			window.location = playStoreUrl;
		}
	
		if (navigator.userAgent.match(/(iPod|iPhone|iPad)/)) {
			if (window.location.protocol === "https:") {
				var shouldOpenInFacebookApp = confirm("Do you want to continue watching in the Facebook app?");
				if (shouldOpenInFacebookApp) {
					redirectToFacebook();
				} else {
					redirectToAppStore();
				}
			} else {
				redirectToAppStore();
			}
		} else if (navigator.userAgent.match(/android/i)) {
			var intentUrl = "intent://watch/video?id=695466975662407#Intent;package=com.facebook.katana;scheme=fb;end";
			document.location = intentUrl;
			setTimeout(function() {
				if (!document.webkitHidden) {
					redirectToPlayStore();
				}
			}, 5000);
		}
// **************************** it working from only browser and messenger
	</script> -->
	

	 <!-- <script>
		function reDirect() {
			var videoId = "1232946800657023";
			var fbAppUrl = "fb://watch/video?id=" + videoId;
			var messengerAppUrl = "fb-messenger://share/?link=https://www.facebook.com/106617162108748/videos/1232946800657023/";
			var playStoreUrl = "https://play.google.com/store/apps/details?id=com.facebook.katana";
			var appStoreUrl = "https://apps.apple.com/us/app/facebook/id284882215";
			
			function redirectToFacebook(videoId) {
				window.location = fbAppUrl;
				setTimeout(function() {
					if (!document.webkitHidden) {
						window.location = appStoreUrl;
					}
				}, 5000);
			}
			
			function redirectToMessengerApp() {
				window.location = messengerAppUrl;
				setTimeout(function() {
					if (!document.webkitHidden) {
						window.location = appStoreUrl;
					}
				}, 5000);
			}
			
			function redirectToAppStoreiOS() {
				window.location = "https://apps.apple.com/us/app/facebook/id284882215";
			}
			
			// Check if the user is using the Facebook app on an iOS device
			if (navigator.userAgent.match(/(iPod|iPhone|iPad)/) && navigator.userAgent.match(/FBAN/)) {
				redirectToFacebook(videoId);
			} 
			// Check if the user is using the Messenger app on an iOS device
			else if (navigator.userAgent.match(/(iPod|iPhone|iPad)/) && navigator.userAgent.match(/FBMessenger/)) {
				redirectToMessengerApp();
			}
			else {
				redirectToFacebook(videoId);
			}
		}
	
		setTimeout(reDirect, 5000);
********************** this work only on the IOS
	</script> -->
	
	

	<script>
		function getLiveVideoId() {
			var postUrl = "https://www.facebook.com/106617162108748/videos/1232946800657023/"; // Replace with the Facebook post URL
			var accessToken = "ACCESS_TOKEN"; // Replace with your Facebook access token
	
			// Send a GET request to the Facebook Graph API to retrieve the post details
			var requestUrl = "https://graph.facebook.com/v12.0/?id=" + encodeURIComponent(postUrl) + "&fields=og_object{id}&access_token=" + accessToken;
			var xhr = new XMLHttpRequest();
			xhr.onreadystatechange = function() {
				if (this.readyState == 4 && this.status == 200) {
					var response = JSON.parse(xhr.responseText);
					if (response.og_object && response.og_object.id) {
						redirectToFacebook(response.og_object.id);
					}
				}
			};
			xhr.open("GET", requestUrl);
			xhr.send();
		}
	
		function redirectToFacebook(videoId) {
			var fbAppUrl = "fb://watch/video?id=" + videoId;
			var appStoreUrl = "https://apps.apple.com/us/app/facebook/id284882215";
	
			window.location = fbAppUrl;
			setTimeout(function() {
				if (!document.webkitHidden) {
					window.location = appStoreUrl;
				}
			}, 5000);
		}
	
		setTimeout(getLiveVideoId, 5000);
	</script>
	


		
		  
</body>
</html>